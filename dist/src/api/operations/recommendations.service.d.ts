import { PrismaService } from '@/prisma/prisma.service';
import { Recommendation } from '@prisma/client';
import { RecommendationDataDto } from '../dtos-schemes/recommendations.dto';
import { TrackedRecommendationsService } from './tracked-insights';
import { LlmService } from './llm/llm.service';
import { PopulatedAccount, UserWithAccounts } from '@/types/api';
import { AppLogger } from '@/utils/app-logger.service';
import { RecommendationStatus } from '@/model.enums';
export declare class RecommendationsService {
    private readonly prisma;
    private readonly trackedRecommendationService;
    private readonly llmService;
    private readonly logger;
    constructor(prisma: PrismaService, trackedRecommendationService: TrackedRecommendationsService, llmService: LlmService, logger: AppLogger);
    getRecommendations(accountId: string): Promise<Recommendation[]>;
    getActive(accId: string): Promise<Recommendation[]>;
    createRecommendation(accountId: string, recommendation: RecommendationDataDto): Promise<{
        description: string;
        title: string;
        accountId: string;
        status: string;
        id: string;
        createdAt: Date;
        updatedAt: Date;
        deletedAt: Date | null;
        topic: string | null;
        type: string;
        publishedAt: Date | null;
        insight: string;
        promptId: string | null;
        isActive: boolean;
        batchId: string | null;
        effectiveness: string;
        targetKeywords: string[];
        easyToDo: boolean;
        trackable: boolean;
        dueWeek: Date | null;
    }>;
    updateRecommendation(accountId: string, recommendationId: string, recommendation: RecommendationDataDto): Promise<{
        description: string;
        title: string;
        accountId: string;
        status: string;
        id: string;
        createdAt: Date;
        updatedAt: Date;
        deletedAt: Date | null;
        topic: string | null;
        type: string;
        publishedAt: Date | null;
        insight: string;
        promptId: string | null;
        isActive: boolean;
        batchId: string | null;
        effectiveness: string;
        targetKeywords: string[];
        easyToDo: boolean;
        trackable: boolean;
        dueWeek: Date | null;
    }>;
    deleteRecommendation(accountId: string, recommendationId: string): Promise<{
        description: string;
        title: string;
        accountId: string;
        status: string;
        id: string;
        createdAt: Date;
        updatedAt: Date;
        deletedAt: Date | null;
        topic: string | null;
        type: string;
        publishedAt: Date | null;
        insight: string;
        promptId: string | null;
        isActive: boolean;
        batchId: string | null;
        effectiveness: string;
        targetKeywords: string[];
        easyToDo: boolean;
        trackable: boolean;
        dueWeek: Date | null;
    }>;
    updateRecommendationStatus(accountId: string, recommendationId: string, status: RecommendationStatus, urls?: string[]): Promise<{
        description: string;
        title: string;
        accountId: string;
        status: string;
        id: string;
        createdAt: Date;
        updatedAt: Date;
        deletedAt: Date | null;
        topic: string | null;
        type: string;
        publishedAt: Date | null;
        insight: string;
        promptId: string | null;
        isActive: boolean;
        batchId: string | null;
        effectiveness: string;
        targetKeywords: string[];
        easyToDo: boolean;
        trackable: boolean;
        dueWeek: Date | null;
    }>;
    getTrackedIds(accountId: string): Promise<string[]>;
    getRemainingInsights(accountId: string): Promise<{
        used: number;
        limit: number;
        remaining: number;
    }>;
    generateRecommendationsJob(account: PopulatedAccount, promptId: string, user: UserWithAccounts): Promise<{
        message: string;
        jobId?: undefined;
        type?: undefined;
        status?: undefined;
        createdAt?: undefined;
    } | {
        message: string;
        jobId: string;
        type: string;
        status: string;
        createdAt: Date;
    }>;
}
